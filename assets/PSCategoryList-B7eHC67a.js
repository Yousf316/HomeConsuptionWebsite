import{r as s,R as l,k as w,j as e}from"./index-B8GXP3NQ.js";import{T as R,M as j,a as g,E as P,D as A}from"./Edit-xcpKZgDh.js";import{T as I}from"./Alert-BLiHCzkI.js";import{a as k,D as E}from"./Purchase_SubCategoriesApi-DrCg-vRr.js";import{h as L}from"./Button-OY5uUh63.js";import"./DatePicker-CzS-4UUP.js";import"./DefaultLayout-D7RIGKjx.js";import"./index.es-B9SKoo5B.js";import"./cil-user-Ddrdy7PS.js";import"./js.cookie-Cz0CWeBA.js";import"./CircularProgress-DaaIr85R.js";function J(){const p=s.useMemo(()=>[{accessorKey:"SubCategoryName",header:"اسم الصنف"},{accessorKey:"PSCategoryID",header:"الرقم التعريفي"}],[]),[C,y]=s.useState([]),[h,M]=s.useState(!1),[b,i]=l.useState(!1),[S,n]=l.useState(""),[f,c]=l.useState("");s.useEffect(()=>{(async()=>{const o=await k();console.log(o);const a=o.map((d,D)=>({key:D,PSCategoryID:String(d.PSCategoryID),SubCategoryName:d.SubCategoryName}));y(a)})()},[h]);var u=document.querySelector(".MuiBox-root.css-exd1zr");u!=null&&u.remove();var m=document.querySelector("#root > div > div.wrapper.d-flex.flex-column.min-vh-100 > div.body.flex-grow-1 > div > div > div.MuiTableContainer-root.css-nhjqqh-MuiTableContainer-root > table > thead > tr > th.MuiTableCell-root.MuiTableCell-head.MuiTableCell-alignLeft.MuiTableCell-sizeMedium.css-eb6d7g-MuiTableCell-root > div > div.Mui-TableHeadCell-Content-Labels.MuiBox-root.css-4ng264 > div");m!=null&&m.remove();const r=s.useContext(w),x=s.useMemo(()=>L({palette:{mode:r.color===""?"dark":r.color}}),[r.color]),T=t=>{window.location.hash=`/home/PSCategory/${t}`},v=async t=>{const o=await E(t);o!=null&&o.status==null?(n("success"),c("تمت العملية بنجاح"),M(a=>a=!a)):(n("error"),c("فشلت العملية")),i(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(I,{open:b,setOpen:i,Message:f,severityType:S}),e.jsx(R,{theme:x,children:e.jsx(j,{columns:p,data:C,enableRowActions:!0,paginationDisplayMode:"pages",renderRowActionMenuItems:({row:t,table:o})=>[e.jsx(g,{icon:e.jsx(P,{}),label:"تعديل",onClick:()=>T(t.original.PSCategoryID),table:o},"edit"),e.jsx(g,{icon:e.jsx(A,{}),label:"حذف",onClick:async()=>{window.confirm(`هل انت متاكد من حذف الفاتورة رقم : ${t.original.PSCategoryID} ؟ `)&&await v(t.original.PSCategoryID)},table:o},"delete")]})})]})}export{J as default};
