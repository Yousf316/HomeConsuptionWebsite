import{r as s,R as l,k as w,j as e}from"./index-rmW5o77D.js";import{T as R,M as j,a as p,E as L,D as A}from"./Edit-DH1PJ3Ng.js";import{T as I}from"./Alert-BeparMDX.js";import{G as k,D as E}from"./StoreApi-uMKLkY75.js";import{h as q}from"./Button-DLrxvNZU.js";import"./DatePicker-BdqSn4qh.js";import"./DefaultLayout-CA6j_KMC.js";import"./index.es-xtoU3xFL.js";import"./cil-user-Ddrdy7PS.js";import"./js.cookie-Cz0CWeBA.js";import"./CircularProgress-VQCXPmnu.js";function J(){const S=s.useMemo(()=>[{accessorKey:"Location",header:"موقع المتجر"},{accessorKey:"StoreName",header:"اسم المتجر"},{accessorKey:"StoreID",header:"الرقم التعريفي"}],[]),[h,M]=s.useState([]),[f,x]=s.useState(!1),[v,n]=l.useState(!1),[T,c]=l.useState(""),[b,m]=l.useState("");s.useEffect(()=>{(async()=>{const r=(await k()).map((i,D)=>({key:D,StoreID:String(i.StoreID),StoreName:i.StoreName,Location:i.StoreLocation}));M(r)})()},[f]);var d=document.querySelector(".MuiBox-root.css-exd1zr");d!=null&&d.remove();var u=document.querySelector("#root > div > div.wrapper.d-flex.flex-column.min-vh-100 > div.body.flex-grow-1 > div > div > div.MuiTableContainer-root.css-nhjqqh-MuiTableContainer-root > table > thead > tr > th.MuiTableCell-root.MuiTableCell-head.MuiTableCell-alignLeft.MuiTableCell-sizeMedium.css-eb6d7g-MuiTableCell-root > div > div.Mui-TableHeadCell-Content-Labels.MuiBox-root.css-4ng264 > div");u!=null&&u.remove();const a=s.useContext(w),g=s.useMemo(()=>q({palette:{mode:a.color===""?"dark":a.color}}),[a.color]),y=t=>{window.location.hash=`/home/Store/${t}`},C=async t=>{const o=await E(t);o!=null&&o.status==null?(c("success"),m("تمت العملية بنجاح"),x(r=>r=!r)):(c("error"),m("فشلت العملية")),n(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(I,{open:v,setOpen:n,Message:b,severityType:T}),e.jsx(R,{theme:g,children:e.jsx(j,{columns:S,data:h,enableRowActions:!0,paginationDisplayMode:"pages",renderRowActionMenuItems:({row:t,table:o})=>[e.jsx(p,{icon:e.jsx(L,{}),label:"تعديل",onClick:()=>y(t.original.StoreID),table:o},"edit"),e.jsx(p,{icon:e.jsx(A,{}),label:"حذف",onClick:async()=>{window.confirm(`هل انت متاكد من حذف الفاتورة رقم : ${t.original.StoreID} ؟ `)&&await C(t.original.StoreID)},table:o},"delete")]})})]})}export{J as default};
