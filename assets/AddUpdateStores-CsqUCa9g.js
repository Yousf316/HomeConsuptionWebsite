import{r as u,j as e,R as f,x as A}from"./index-B8GXP3NQ.js";import{F as s,R as x,C as d}from"./Row-D5t1_bNo.js";import{T as D}from"./Alert-BLiHCzkI.js";import{a as B,b as p,S as F,c as W}from"./StoreApi-uMKLkY75.js";import{B as h}from"./Button-OY5uUh63.js";import"./js.cookie-Cz0CWeBA.js";const S={"Save-form-main":"_Save-form-main_840r9_2"};function G({id:o}){const[l,n]=u.useState(!0),[r,a]=u.useState({storeID:"لا يوجد",storeName:"",location:""});function m(t){a(c=>({...c,storeID:o,storeName:t.storeName,location:t.location})),n(!1)}function i(){a(t=>({...t,storeID:"لا يوجد",storeName:""})),n(!0)}function N(t){a({...r,storeName:t})}function y(t){a({...r,location:t})}async function j(){const t=await B(o);t.status?i():m(t)}async function I(){const t={storeName:r.storeName,location:r.location},c=await F(t),C=await p(c.storeName);return window.location.hash=`/home/Store/${C[0].StoreID}`,!0}async function g(){const t={storeName:r.storeName,location:r.location};return await W(t,r.storeID),!0}u.useEffect(()=>{i(),o!=0&&j()},[o]);async function w(){return await v()!=!0?!1:l?!!await I():!!await g()}async function v(){return r.storeName.trim()==""?!1:l?(await p(r.storeName)).status!=null:!0}return e.jsxs(e.Fragment,{children:[e.jsxs(s,{className:S["Save-form-main"],children:[e.jsxs(s.Group,{as:x,controlId:"formPlaintextStoreID",children:[e.jsx(s.Label,{column:!0,sm:"2",style:{minWidth:"150px"},children:"رقم الفاتورة :"}),e.jsx(d,{sm:"3",children:e.jsx(s.Control,{sm:"2",value:r.storeID,plaintext:!0,readOnly:!0,defaultValue:"لا يوجد"})})]}),e.jsxs(s.Group,{as:x,style:{marginTop:"50px",marginBottom:"25px"},controlId:"formPlaintextStoreName",children:[e.jsx(s.Label,{column:!0,sm:"2",style:{minWidth:"150px"},children:"اسم المتجر :"}),e.jsx(d,{sm:"3",children:e.jsx(s.Control,{value:r.storeName,onChange:t=>N(t.target.value),sm:"2",type:"text",placeholder:"اسم المتجر",style:{minWidth:"250px"}})})]}),e.jsxs(s.Group,{as:x,style:{marginTop:"50px",marginBottom:"25px"},controlId:"formLocation",children:[e.jsx(s.Label,{column:!0,sm:"2",style:{minWidth:"150px"},children:"اسم الموقع :"}),e.jsx(d,{sm:"3",children:e.jsx(s.Control,{value:r.location,onChange:t=>y(t.target.value),sm:"2",type:"text",placeholder:"اسم الموقع",style:{minWidth:"250px"}})})]})]}),e.jsx(T,{SaveOpreation:w})]})}function T({SaveOpreation:o}){const[l,n]=f.useState(!1),[r,a]=f.useState(""),[m,i]=f.useState("");return e.jsxs(e.Fragment,{children:[e.jsx(s,{className:S["Save-form-main"],children:e.jsxs("div",{children:[e.jsx(h,{variant:"outlined",style:{minWidth:"150px",margin:"25px"},children:"الغاء"}),e.jsx(h,{variant:"contained",style:{minWidth:"150px",margin:"25px"},onClick:async()=>{await o()?(a("success"),i("تمت العملية بنجاح")):(a("error"),i("فشلت العملية")),n(!0)},children:"حفظ"})]})}),e.jsx(D,{open:l,setOpen:n,Message:m,severityType:r})]})}const E=()=>{const{id:o}=A();return e.jsx(e.Fragment,{children:e.jsx(G,{id:o})})};export{E as default};
