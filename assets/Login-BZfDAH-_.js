import{r as c,_ as z,R as F,b as O,c as q,P as b,j as n,U as w,L as D,q as A}from"./index-B8GXP3NQ.js";import{b as H,c as N,a as B}from"./index.es-B9SKoo5B.js";import{a as k}from"./js.cookie-Cz0CWeBA.js";import{C as E,a as h}from"./CRow-D51e62b2.js";import{C as $,a as R}from"./CCardBody--5_iwA8B.js";import{C as J,c as K}from"./cil-lock-locked-D8bXp0-L.js";import{C as U,a as G,b as _}from"./CInputGroupText-C7_4M64D.js";import{c as Q}from"./cil-user-Ddrdy7PS.js";import{g as V,a as X,s as M,B as Y,_ as g,c as m,b as Z,r as S,u as oo,d as no,e as ao,f as io}from"./Button-OY5uUh63.js";import{C as so}from"./CircularProgress-DaaIr85R.js";var f=c.forwardRef(function(a,o){var i=a.children,r=a.className,e=z(a,["children","className"]);return F.createElement("div",O({className:q("card-group",r)},e,{ref:o}),i)});f.propTypes={children:b.node,className:b.string};f.displayName="CCardGroup";function to(a){return X("MuiLoadingButton",a)}const t=V("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),ro=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],eo=a=>{const{loading:o,loadingPosition:i,classes:r}=a,e={root:["root",o&&"loading"],startIcon:[o&&`startIconLoading${m(i)}`],endIcon:[o&&`endIconLoading${m(i)}`],loadingIndicator:["loadingIndicator",o&&`loadingIndicator${m(i)}`]},s=io(e,to,r);return g({},r,s)},lo=a=>a!=="ownerState"&&a!=="theme"&&a!=="sx"&&a!=="as"&&a!=="classes",co=M(Y,{shouldForwardProp:a=>lo(a)||a==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(a,o)=>[o.root,o.startIconLoadingStart&&{[`& .${t.startIconLoadingStart}`]:o.startIconLoadingStart},o.endIconLoadingEnd&&{[`& .${t.endIconLoadingEnd}`]:o.endIconLoadingEnd}]})(({ownerState:a,theme:o})=>g({[`& .${t.startIconLoadingStart}, & .${t.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0}},a.loadingPosition==="center"&&{transition:o.transitions.create(["background-color","box-shadow","border-color"],{duration:o.transitions.duration.short}),[`&.${t.loading}`]:{color:"transparent"}},a.loadingPosition==="start"&&a.fullWidth&&{[`& .${t.startIconLoadingStart}, & .${t.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0,marginRight:-8}},a.loadingPosition==="end"&&a.fullWidth&&{[`& .${t.startIconLoadingStart}, & .${t.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0,marginLeft:-8}})),go=M("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(a,o)=>{const{ownerState:i}=a;return[o.loadingIndicator,o[`loadingIndicator${m(i.loadingPosition)}`]]}})(({theme:a,ownerState:o})=>g({position:"absolute",visibility:"visible",display:"flex"},o.loadingPosition==="start"&&(o.variant==="outlined"||o.variant==="contained")&&{left:o.size==="small"?10:14},o.loadingPosition==="start"&&o.variant==="text"&&{left:6},o.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(a.vars||a).palette.action.disabled},o.loadingPosition==="end"&&(o.variant==="outlined"||o.variant==="contained")&&{right:o.size==="small"?10:14},o.loadingPosition==="end"&&o.variant==="text"&&{right:6},o.loadingPosition==="start"&&o.fullWidth&&{position:"relative",left:-10},o.loadingPosition==="end"&&o.fullWidth&&{position:"relative",right:-10})),uo=c.forwardRef(function(o,i){const r=c.useContext(Z),e=S(r,o),s=oo({props:e,name:"MuiLoadingButton"}),{children:u,disabled:d=!1,id:p,loading:x=!1,loadingIndicator:C,loadingPosition:T="center",variant:L="text"}=s,W=no(s,ro),j=ao(p),v=C??n.jsx(so,{"aria-labelledby":j,color:"inherit",size:16}),l=g({},s,{disabled:d,loading:x,loadingIndicator:v,loadingPosition:T,variant:L}),P=eo(l),y=x?n.jsx(go,{className:P.loadingIndicator,ownerState:l,children:v}):null;return n.jsxs(co,g({disabled:d||x,id:j,ref:i},W,{variant:L,classes:P,ownerState:l,children:[l.loadingPosition==="end"?u:y,l.loadingPosition==="end"?y:u]}))});function I(){k.remove("LOGIN_Info",{path:"/"})}const Po=()=>{const a=c.useContext(w),[o,i]=c.useState(!1);async function r(){let s=document.getElementById("username").value,u=document.getElementById("password").value,d=await A(s,u);if(d===""){i(!1),I();return}await e(d),a.setUserInfo(p=>({...p,username:s})),window.location.hash="/home"}async function e(s){if(s===""){i(!1),I();return}k.set("LOGIN_Info",s,{})}return I(),n.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:n.jsx(H,{children:n.jsx(E,{className:"justify-content-center",children:n.jsx(h,{md:8,children:n.jsxs(f,{children:[n.jsx($,{className:"p-4",children:n.jsx(R,{children:n.jsxs(J,{action:"#/home",method:"GET",children:[n.jsx("h1",{children:"تسجيل الدخول"}),n.jsx("p",{className:"text-body-secondary",children:"سجل دخولك باستخدام حسابك"}),n.jsxs(U,{className:"mb-3",children:[n.jsx(G,{children:n.jsx(N,{icon:Q})}),n.jsx(_,{placeholder:"Username",id:"username",autoComplete:"username"})]}),n.jsxs(U,{className:"mb-4",children:[n.jsx(G,{children:n.jsx(N,{icon:K})}),n.jsx(_,{type:"password",placeholder:"Password",autoComplete:"current-password",id:"password"})]}),n.jsxs(E,{children:[n.jsx(h,{xs:6,children:n.jsx(uo,{className:"px-4",color:"primary",loading:o,onClick:()=>{i(!0),r()},variant:"contained",children:"تسجيل الدخول"})}),n.jsx(h,{xs:6,className:"text-right",children:n.jsx(B,{color:"link",className:"px-0",children:"نسيت كلمة المرور"})})]})]})})}),n.jsx($,{className:"text-white bg-primary py-5",children:n.jsx(R,{className:"text-center",children:n.jsxs("div",{children:[n.jsx("h2",{children:"حساب جديد؟"}),n.jsx("p",{children:"موقع المحاسب المنزلي , لحساب الفوانير المنزلية. سجل وقم بتجربة حساب فواتيرك"}),n.jsx(D,{to:"/register",children:n.jsx(B,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"سجل الان"})})]})})})]})})})})})};export{Po as default};
