import{r as s,R as i,k as R,j as e}from"./index-B8GXP3NQ.js";import{T as j,M as S,a as p,E as A,D as I}from"./Edit-xcpKZgDh.js";import{T as L}from"./Alert-BLiHCzkI.js";import{G as k,D as E}from"./Purchase_CategoriesApi-DvrM_xKn.js";import{h as P}from"./Button-OY5uUh63.js";import"./DatePicker-CzS-4UUP.js";import"./DefaultLayout-D7RIGKjx.js";import"./index.es-B9SKoo5B.js";import"./cil-user-Ddrdy7PS.js";import"./js.cookie-Cz0CWeBA.js";import"./CircularProgress-DaaIr85R.js";function J(){const g=s.useMemo(()=>[{accessorKey:"categoryName",header:"اسم الصنف"},{accessorKey:"pCategoryID",header:"الرقم التعريفي"}],[]),[h,C]=s.useState([]),[y,M]=s.useState(!1),[f,l]=i.useState(!1),[x,n]=i.useState(""),[T,c]=i.useState("");s.useEffect(()=>{(async()=>{const a=(await k()).map((d,w)=>({key:w,pCategoryID:String(d.PCategoryID),categoryName:d.CategoryName}));C(a)})()},[y]);var u=document.querySelector(".MuiBox-root.css-exd1zr");u!=null&&u.remove();var m=document.querySelector("#root > div > div.wrapper.d-flex.flex-column.min-vh-100 > div.body.flex-grow-1 > div > div > div.MuiTableContainer-root.css-nhjqqh-MuiTableContainer-root > table > thead > tr > th.MuiTableCell-root.MuiTableCell-head.MuiTableCell-alignLeft.MuiTableCell-sizeMedium.css-eb6d7g-MuiTableCell-root > div > div.Mui-TableHeadCell-Content-Labels.MuiBox-root.css-4ng264 > div");m!=null&&m.remove();const r=s.useContext(R),v=s.useMemo(()=>P({palette:{mode:r.color===""?"dark":r.color}}),[r.color]),b=t=>{window.location.hash=`/home/Purchase_Category/${t}`},D=async t=>{const o=await E(t);o!=null&&o.status==null?(n("success"),c("تمت العملية بنجاح"),M(a=>a=!a)):(n("error"),c("فشلت العملية")),l(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{open:f,setOpen:l,Message:T,severityType:x}),e.jsx(j,{theme:v,children:e.jsx(S,{columns:g,data:h,enableRowActions:!0,paginationDisplayMode:"pages",renderRowActionMenuItems:({row:t,table:o})=>[e.jsx(p,{icon:e.jsx(A,{}),label:"تعديل",onClick:()=>b(t.original.pCategoryID),table:o},"edit"),e.jsx(p,{icon:e.jsx(I,{}),label:"حذف",onClick:async()=>{window.confirm(`هل انت متاكد من حذف الفاتورة رقم : ${t.original.pCategoryID} ؟ `)&&await D(t.original.pCategoryID)},table:o},"delete")]})})]})}export{J as default};
